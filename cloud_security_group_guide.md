# 🌐 雲服務器安全組配置指南

## 🎯 問題說明
您的服務器配置正確，但外部無法訪問是因為雲服務器安全組沒有開放6886端口。

## 📋 需要開放的端口
- **6886** (TCP) - 主要訪問端口 ⭐ **必須開放**
- 7723 (TCP) - API端口 (可選)
- 8081 (TCP) - 數據庫管理端口 (可選)
- 8899 (TCP) - MongoDB端口 (可選)

## 🔧 各雲服務商配置步驟

### 騰訊雲 (TencentCloud)
1. 登錄 [騰訊雲控制台](https://console.cloud.tencent.com/)
2. 進入 **雲服務器 CVM** → **實例**
3. 找到您的服務器，點擊實例ID
4. 點擊 **安全組** 標籤
5. 點擊安全組ID進入安全組管理
6. 點擊 **入站規則** → **添加規則**
7. 填寫規則：
   - 類型：自定義
   - 來源：0.0.0.0/0
   - 協議端口：TCP:6886
   - 策略：允許
8. 點擊 **完成**

### 阿里雲 (Alibaba Cloud)
1. 登錄 [阿里雲控制台](https://ecs.console.aliyun.com/)
2. 進入 **雲服務器ECS** → **實例與鏡像** → **實例**
3. 找到您的服務器，點擊 **管理**
4. 點擊 **安全組** 標籤
5. 點擊安全組ID進入安全組管理
6. 點擊 **配置規則** → **入方向** → **添加安全組規則**
7. 填寫規則：
   - 授權策略：允許
   - 優先級：1
   - 協議類型：TCP
   - 端口範圍：6886/6886
   - 授權對象：0.0.0.0/0
8. 點擊 **確定**

### AWS (Amazon Web Services)
1. 登錄 [AWS控制台](https://console.aws.amazon.com/)
2. 進入 **EC2** → **實例**
3. 選擇您的實例，點擊 **安全** 標籤
4. 點擊安全組鏈接
5. 點擊 **入站規則** → **編輯入站規則**
6. 點擊 **添加規則**
7. 填寫規則：
   - 類型：自定義TCP
   - 端口範圍：6886
   - 源：0.0.0.0/0
8. 點擊 **保存規則**

### Azure (Microsoft Azure)
1. 登錄 [Azure門戶](https://portal.azure.com/)
2. 進入 **虛擬機**
3. 選擇您的虛擬機
4. 點擊 **網絡**
5. 點擊 **添加入站端口規則**
6. 填寫規則：
   - 源：任何
   - 源端口範圍：*
   - 目標：任何
   - 目標端口範圍：6886
   - 協議：TCP
   - 操作：允許
7. 點擊 **添加**

## ✅ 配置完成後測試

配置完成後，等待1-2分鐘，然後訪問：
- **前端應用**：http://43.134.141.188:6886/
- **API文檔**：http://43.134.141.188:6886/hcbe/api-docs
- **數據庫管理**：http://43.134.141.188:6886/db/

## 🔍 驗證步驟

在服務器上運行以下命令驗證：
```bash
curl -s -o /dev/null -w "外部訪問測試: %{http_code}\n" http://43.134.141.188:6886/
```

如果返回200，說明配置成功！

## 📞 如果仍有問題

如果按照以上步驟配置後仍無法訪問，請檢查：
1. 安全組規則是否正確保存
2. 是否有其他網絡ACL限制
3. 聯繫雲服務商技術支持 
