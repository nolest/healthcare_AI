# è¿œç¨‹åŒ»ç–—ç³»ç»Ÿ API ä½¿ç”¨æŒ‡å—

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 16+
- MongoDB 4.4+
- npm æˆ– pnpm

### å®‰è£…å’Œå¯åŠ¨

1. **å®‰è£…ä¾èµ–**
```bash
# åç«¯ä¾èµ–
cd healthcare_backend
npm install

# å‰ç«¯ä¾èµ–  
cd ../healthcare_frontend
npm install
```

2. **å¯åŠ¨MongoDBæ•°æ®åº“**
```bash
# ç¡®ä¿MongoDBæœåŠ¡æ­£åœ¨è¿è¡Œ
mongod
```

3. **å¯åŠ¨å¼€å‘ç¯å¢ƒ**
```bash
# æ–¹å¼1: ä½¿ç”¨æ‰¹å¤„ç†æ–‡ä»¶ï¼ˆWindowsï¼‰
start_dev.bat

# æ–¹å¼2: æ‰‹åŠ¨å¯åŠ¨
# ç»ˆç«¯1 - åç«¯
cd healthcare_backend
npm run start:dev

# ç»ˆç«¯2 - å‰ç«¯  
cd healthcare_frontend
npm run dev
```

### è®¿é—®åœ°å€
- **å‰ç«¯åº”ç”¨**: http://localhost:6886
- **åç«¯API**: http://localhost:7723/api
- **APIæ–‡æ¡£**: http://localhost:7723/api-docs

## ğŸ“‹ ä¸»è¦åŠŸèƒ½

### âœ… å·²å®ŒæˆåŠŸèƒ½

#### ç”¨æˆ·è®¤è¯
- âœ… ç”¨æˆ·æ³¨å†Œï¼ˆæ‚£è€…/åŒ»æŠ¤äººå‘˜ï¼‰
- âœ… ç”¨æˆ·ç™»å½•/ç™»å‡º
- âœ… JWT Tokenè®¤è¯
- âœ… è§’è‰²æƒé™æ§åˆ¶

#### æµ‹é‡æ•°æ®ç®¡ç†
- âœ… æäº¤ç”Ÿç†æŒ‡æ ‡ï¼ˆè¡€å‹ã€å¿ƒç‡ã€ä½“æ¸©ã€è¡€æ°§ï¼‰
- âœ… è‡ªåŠ¨å¼‚å¸¸å€¼æ£€æµ‹
- âœ… æµ‹é‡å†å²æŸ¥è¯¢
- âœ… å¼‚å¸¸æ•°æ®æ ‡è®°å’ŒçŠ¶æ€ç®¡ç†

#### åŒ»æŠ¤äººå‘˜åŠŸèƒ½
- âœ… æŸ¥çœ‹å¼‚å¸¸æ‚£è€…åˆ—è¡¨
- âœ… æ‚£è€…æµ‹é‡æ•°æ®æŸ¥çœ‹
- âœ… æ‰¹é‡å¤„ç†æ‚£è€…è®°å½•

### ğŸ”„ æ­£åœ¨å¼€å‘
- è¯Šæ–­è®°å½•ç®¡ç†
- COVIDè¯„ä¼°åŠŸèƒ½
- ç”¨æˆ·ç®¡ç†ç•Œé¢
- æ•°æ®ç»Ÿè®¡å›¾è¡¨

## ğŸ”§ API æ¥å£è¯´æ˜

### è®¤è¯æ¥å£

#### ç”¨æˆ·æ³¨å†Œ
```http
POST /api/auth/register
Content-Type: application/json

{
  "username": "patient001",
  "password": "123456",
  "fullName": "å¼ ä¸‰",
  "email": "patient001@example.com",
  "role": "patient",
  "phone": "13800138000",
  "birthDate": "1990-01-01",
  "gender": "male"
}
```

#### ç”¨æˆ·ç™»å½•
```http
POST /api/auth/login
Content-Type: application/json

{
  "username": "patient001", 
  "password": "123456"
}
```

#### è·å–ç”¨æˆ·ä¿¡æ¯
```http
GET /api/auth/profile
Authorization: Bearer <token>
```

### æµ‹é‡æ•°æ®æ¥å£

#### æäº¤æµ‹é‡æ•°æ®
```http
POST /api/measurements
Authorization: Bearer <token>
Content-Type: application/json

{
  "systolic": 120,
  "diastolic": 80,
  "heartRate": 72,
  "temperature": 36.5,
  "oxygenSaturation": 98,
  "notes": "æ„Ÿè§‰è‰¯å¥½",
  "measurementTime": "2024-06-24T10:00:00Z"
}
```

#### è·å–æˆ‘çš„æµ‹é‡è®°å½•
```http
GET /api/measurements/my
Authorization: Bearer <token>
```

#### è·å–å¼‚å¸¸æµ‹é‡è®°å½•ï¼ˆåŒ»æŠ¤äººå‘˜ï¼‰
```http
GET /api/measurements/abnormal
Authorization: Bearer <token>
```

#### æ›´æ–°æµ‹é‡è®°å½•çŠ¶æ€ï¼ˆåŒ»æŠ¤äººå‘˜ï¼‰
```http
PATCH /api/measurements/:id/status
Authorization: Bearer <token>
Content-Type: application/json

{
  "status": "processed",
  "isAbnormal": true
}
```

## ğŸ¯ æµ‹è¯•è´¦æˆ·

ç³»ç»Ÿå¯åŠ¨åï¼Œæ‚¨å¯ä»¥æ³¨å†Œæ–°è´¦æˆ·æˆ–ä½¿ç”¨ä»¥ä¸‹æµ‹è¯•æµç¨‹ï¼š

### æµ‹è¯•æµç¨‹
1. **æ³¨å†Œæ‚£è€…è´¦æˆ·**
   - è§’è‰²é€‰æ‹©"æ‚£è€…"
   - å¡«å†™åŸºæœ¬ä¿¡æ¯

2. **æ³¨å†ŒåŒ»æŠ¤äººå‘˜è´¦æˆ·**  
   - è§’è‰²é€‰æ‹©"åŒ»æŠ¤äººå‘˜"
   - å¡«å†™ç§‘å®¤å’Œæ‰§ç…§ä¿¡æ¯

3. **æ‚£è€…æ“ä½œ**
   - ç™»å½•æ‚£è€…è´¦æˆ·
   - æäº¤æµ‹é‡æ•°æ®ï¼ˆå¯ä»¥æ•…æ„è¾“å…¥å¼‚å¸¸å€¼æµ‹è¯•ï¼‰
   - æŸ¥çœ‹æµ‹é‡å†å²

4. **åŒ»æŠ¤äººå‘˜æ“ä½œ**
   - ç™»å½•åŒ»æŠ¤äººå‘˜è´¦æˆ·
   - æŸ¥çœ‹å¼‚å¸¸æ‚£è€…åˆ—è¡¨
   - å¤„ç†å¼‚å¸¸æµ‹é‡è®°å½•

## ğŸ” å¼‚å¸¸å€¼æ ‡å‡†

ç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹ä»¥ä¸‹å¼‚å¸¸å€¼ï¼š
- **æ”¶ç¼©å‹**: >140 æˆ– <90 mmHg
- **èˆ’å¼ å‹**: >90 æˆ– <60 mmHg  
- **å¿ƒç‡**: >100 æˆ– <60 æ¬¡/åˆ†
- **ä½“æ¸©**: >37.5Â°C æˆ– <36.0Â°C
- **è¡€æ°§é¥±å’Œåº¦**: <95%

## ğŸ› æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **åç«¯å¯åŠ¨å¤±è´¥**
   - æ£€æŸ¥MongoDBæ˜¯å¦è¿è¡Œ
   - æ£€æŸ¥ç«¯å£7723ï¼ˆåç«¯ï¼‰å’Œ6886ï¼ˆå‰ç«¯ï¼‰æ˜¯å¦è¢«å ç”¨
   - æŸ¥çœ‹ç»ˆç«¯é”™è¯¯ä¿¡æ¯

2. **å‰ç«¯æ— æ³•è¿æ¥åç«¯**
   - ç¡®è®¤åç«¯å·²å¯åŠ¨
   - æ£€æŸ¥APIåœ°å€é…ç½®
   - æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯

3. **æ•°æ®åº“è¿æ¥å¤±è´¥**
   - ç¡®è®¤MongoDBæœåŠ¡çŠ¶æ€
   - æ£€æŸ¥æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
   - æŸ¥çœ‹åç«¯æ—¥å¿—

### æ—¥å¿—æŸ¥çœ‹
- **åç«¯æ—¥å¿—**: åœ¨åç«¯ç»ˆç«¯æŸ¥çœ‹
- **å‰ç«¯æ—¥å¿—**: æµè§ˆå™¨å¼€å‘è€…å·¥å…· > Console
- **ç½‘ç»œè¯·æ±‚**: æµè§ˆå™¨å¼€å‘è€…å·¥å…· > Network

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æ‰€æœ‰ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…
2. MongoDBæ˜¯å¦æ­£å¸¸è¿è¡Œ
3. ç«¯å£æ˜¯å¦è¢«å ç”¨
4. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯

## ğŸ”„ ä¸‹ä¸€æ­¥å¼€å‘è®¡åˆ’

1. **å®Œå–„è¯Šæ–­æ¨¡å—**
2. **æ·»åŠ æ•°æ®å¯è§†åŒ–**
3. **å®ç°æ¶ˆæ¯é€šçŸ¥**
4. **æ·»åŠ å¯¼å‡ºåŠŸèƒ½**
5. **ä¼˜åŒ–ç§»åŠ¨ç«¯ä½“éªŒ** 